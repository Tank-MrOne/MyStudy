<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object.defineProperties</title>
</head>
<body>
    <script>
        let singer = {
            firstName: '刘',
            lastName: '德华'
        };

        // fullName
        Object.defineProperties(singer, {
            fullName: {
                get: function(){
                    return this.firstName + this.lastName;
                },
                set: function(v){
                    //对 v 字符串进行分割
                    let arr = v.split('-');    
                    //进行两个属性的复制
                    this.firstName = arr[0];
                    this.lastName = arr[1];
                }
            }
        });

        //当对 fullName 属性进行获取的时候, get 方法就会自动触发
        // console.log(singer.fullName);
        //当对 fullName 属性值进行设置的时候 set 方法会自动触发
        singer.fullName = '郭-富城';
        //获取属性
        console.log(singer.fullName);



        //关于分数的 get 方法实现
        var scores = {
            stus: [
                {name:'张三',score:50},
                {name:'李四',score:23},
                {name:'王五',score:59},
                {name:'赵六',score:90},
            ]
        }

        Object.defineProperties(scores, {
            total: {
                get: function(){
                    //声明一个变量接收
                    var t = 0;
                    //遍历数组
                    this.stus.forEach(function(item){
                        t += item.score
                    });
                    return t;
                }
            }
        });

        console.log(scores.total);


    </script>
</body>
</html>