(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d77138a"],{"1bc4":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"900px","margin-bottom":"20px"},attrs:{border:"",lazy:"",data:e.categorys,load:e.load,"row-key":e.getRowKey,"tree-props":{children:"children",hasChildren:"hasChildren"},"row-class-name":e.tableRowClassName}},[n("el-table-column",{attrs:{prop:"id",label:"分类ID",align:"center",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"分类名称",sortable:""}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"header",fn:function(e){return[n("el-input",{attrs:{placeholder:"按Enter键添加一级分类"}})]}},{key:"default",fn:function(t){return[e.$hasBP("category.add")?n("HintButton",{attrs:{title:"添加子分类",disabled:!t.row.level,size:"mini",type:"primary",icon:"el-icon-plus"}}):e._e(),e._v(" "),e.$hasBP("category.update")?n("HintButton",{attrs:{title:"修改分类",size:"mini",type:"primary",icon:"el-icon-edit"}}):e._e(),e._v(" "),e.$hasBP("category.remove")?n("HintButton",{attrs:{title:"删除分类",size:"mini",type:"danger",icon:"el-icon-delete"}}):e._e()]}}])})],1)],1)},a=[],i=(n("96cf"),n("3b8d")),o=(n("ac6a"),{name:"CategoryList",data:function(){return{categorys:[]}},mounted:function(){this.getCategorys1()},methods:{getCategorys1:function(){var e=this;this.$API.category.getCategorys1().then((function(t){var n=t.data;n.forEach((function(e){e.hasChildren=!0,e.level=1})),e.categorys=n}))},load:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!==t.level){e.next=7;break}return e.next=3,this.getCategorys2(t);case 3:a=e.sent,r(a),e.next=12;break;case 7:if(2!==t.level){e.next=12;break}return e.next=10,this.getCategorys3(t);case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),getCategorys2:function(e){return this.$API.category.getCategorys2(e.id).then((function(t){var n=t.data;return n&&n.length>0?(n.forEach((function(e){e.hasChildren=!0,e.level=2})),n):(e.hasChildren=!1,[])}))},getCategorys3:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$API.category.getCategorys3(t.id);case 2:if(n=e.sent,r=n.data,!(r&&r.length>0)){e.next=8;break}return e.abrupt("return",r);case 8:return t.hasChildren=!1,e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getRowKey:function(e){return e.level+"-"+e.id},tableRowClassName:function(e){var t=e.row;e.rowIndex;if(2===t.level)return"level2-row"}}}),s=o,l=(n("e8e2"),n("2877")),c=Object(l["a"])(s,r,a,!1,null,null,null);t["default"]=c.exports},5180:function(e,t,n){},e8e2:function(e,t,n){"use strict";var r=n("5180"),a=n.n(r);a.a}}]);