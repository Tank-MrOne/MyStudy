<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Promise处理同步任务</title>
    <script src="Promise.js"></script>
</head>
<body>

<script>
/**
 改变promise状态和指定回调函数谁先谁后?
(1)    都有可能, 正常情况下是先指定回调再改变状态, 但也可以先改状态再指定回调
(2)    如何先改状态再指定回调?
        ①    在执行器中直接调用resolve()/reject()
        ②    延迟更长时间才调用then()
(3)    什么时候才能得到数据?
        ①    如果先指定的回调, 那当状态发生改变时, 回调函数就会调用, 得到数据
        ②    如果先改变的状态, 那当指定回调时, 回调函数就会调用, 得到数据
*/

let p = new Promise((resolve, reject)=>{
    setTimeout(()=>{
        resolve('成功的数据');    
    }, 2000)
});


p.then(value=>{
    console.log(value)
}, reason=>{
    console.error(reason);
});

p.then(value=>{
    console.log(value)
}, reason=>{
    console.error(reason);
});


</script>
</body>
</html>